similar as contrib.seq2seq
copy from it modify a bit for my applications
try to use contrib.seq2seq directly if it meets your needs
